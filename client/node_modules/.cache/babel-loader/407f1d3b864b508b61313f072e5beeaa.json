{"ast":null,"code":"import _toConsumableArray from \"/home/user/Desktop/web development/file-uploader/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/user/Desktop/web development/file-uploader/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/user/Desktop/web development/file-uploader/client/src/components/FileUploader.js\";\n\nimport \"./style.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nexport var FileUploader = function FileUploader(_ref) {\n  var onSuccess = _ref.onSuccess;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      files = _useState2[0],\n      setFiles = _useState2[1];\n\n  var fileObj = [];\n\n  var onInputChange = function onInputChange(e) {\n    // console.log(e.target.files[0].name)\n    setFiles.apply(void 0, _toConsumableArray(files).concat([e.target.files]));\n  };\n\n  var onSubmitHandler = function onSubmitHandler(e) {\n    e.preventDefault();\n    var data = new FormData();\n\n    for (var i = 0; i < files.length; i++) {\n      data.append(\"file\", files[i]);\n    } // data.append(\"file\", files);\n\n\n    axios.post(\"//localhost:8000/upload\", data).then(function (response) {\n      // console.log(response.data)\n      toast.success(\"Successfully uploaded\");\n      setTimeout(function () {\n        onSuccess(response.data);\n      }, 5000);\n    }).catch(function (e) {\n      toast.error(\"Could not upload. Please try again!\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"upload-form\",\n    method: \"post\",\n    action: \"#\",\n    id: \"#\",\n    onSubmit: onSubmitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group files\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"file-upload\",\n    className: \"custom-file-upload\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Upload Files \"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"file-upload\",\n    onChange: onInputChange,\n    type: \"file\",\n    className: \"form-control\",\n    multiple: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Submit\"));\n};\nexport default FileUploader;","map":{"version":3,"names":["React","useState","axios","toast","faPlus","FontAwesomeIcon","FileUploader","onSuccess","files","setFiles","fileObj","onInputChange","e","target","onSubmitHandler","preventDefault","data","FormData","i","length","append","post","then","response","success","setTimeout","catch","error"],"sources":["/home/user/Desktop/web development/file-uploader/client/src/components/FileUploader.js"],"sourcesContent":["import \"./style.css\"\nimport React, { useState } from \"react\";\nimport axios from \"axios\"\nimport {toast} from \"react-toastify\"\nimport {faPlus} from \"@fortawesome/free-solid-svg-icons\"\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\n\nexport const FileUploader = ({onSuccess}) => {\n    const [files, setFiles] = useState([])\n\n    const fileObj = []\n    const onInputChange = (e) => {\n        // console.log(e.target.files[0].name)\n        setFiles(...files, e.target.files)\n    }\n    \n\n\n\n    const onSubmitHandler = (e) => {\n        e.preventDefault();\n\n        \n        const data = new FormData();\n\n\n        for(let i = 0; i<files.length; i++){\n            data.append(\"file\", files[i]);\n        }\n\n\n        // data.append(\"file\", files);\n\n        axios.post(\"//localhost:8000/upload\", data)\n        .then(response => {\n            // console.log(response.data)\n            toast.success(\"Successfully uploaded\")\n            setTimeout(()=>{\n\n                onSuccess(response.data)\n                \n            }, 5000)\n        })\n        .catch(e => {\n            toast.error(\"Could not upload. Please try again!\")\n        })\n    }\n\n    return (\n        <form className=\"upload-form\" method=\"post\" action=\"#\" id=\"#\" onSubmit={onSubmitHandler}>\n           \n              \n              \n              \n        <div className=\"form-group files\">\n          <label for=\"file-upload\" className=\"custom-file-upload\">Upload Files </label>\n          <input id=\"file-upload\"  onChange={onInputChange} type=\"file\" className=\"form-control\" multiple/>\n          {/* <div className=\"button-div\">\n            <i>\n                <FontAwesomeIcon icon={faPlus}/>\n            </i>\n            <h5>Choose Files</h5>\n          </div> */}\n        </div>\n        \n        <button className=\"submit-button\">Submit</button>\n    </form>\n    )\n};\n\n\nexport default FileUploader"],"mappings":";;;;;;AAAA,OAAO,aAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,SAAQC,MAAR,QAAqB,mCAArB;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAiB;EAAA,IAAfC,SAAe,QAAfA,SAAe;;EAAA,gBACfN,QAAQ,CAAC,EAAD,CADO;EAAA;EAAA,IAClCO,KADkC;EAAA,IAC3BC,QAD2B;;EAGzC,IAAMC,OAAO,GAAG,EAAhB;;EACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD,EAAO;IACzB;IACAH,QAAQ,MAAR,4BAAYD,KAAZ,UAAmBI,CAAC,CAACC,MAAF,CAASL,KAA5B;EACH,CAHD;;EAQA,IAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAACF,CAAD,EAAO;IAC3BA,CAAC,CAACG,cAAF;IAGA,IAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;;IAGA,KAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACV,KAAK,CAACW,MAAvB,EAA+BD,CAAC,EAAhC,EAAmC;MAC/BF,IAAI,CAACI,MAAL,CAAY,MAAZ,EAAoBZ,KAAK,CAACU,CAAD,CAAzB;IACH,CAT0B,CAY3B;;;IAEAhB,KAAK,CAACmB,IAAN,CAAW,yBAAX,EAAsCL,IAAtC,EACCM,IADD,CACM,UAAAC,QAAQ,EAAI;MACd;MACApB,KAAK,CAACqB,OAAN,CAAc,uBAAd;MACAC,UAAU,CAAC,YAAI;QAEXlB,SAAS,CAACgB,QAAQ,CAACP,IAAV,CAAT;MAEH,CAJS,EAIP,IAJO,CAAV;IAKH,CATD,EAUCU,KAVD,CAUO,UAAAd,CAAC,EAAI;MACRT,KAAK,CAACwB,KAAN,CAAY,qCAAZ;IACH,CAZD;EAaH,CA3BD;;EA6BA,oBACI;IAAM,SAAS,EAAC,aAAhB;IAA8B,MAAM,EAAC,MAArC;IAA4C,MAAM,EAAC,GAAnD;IAAuD,EAAE,EAAC,GAA1D;IAA8D,QAAQ,EAAEb,eAAxE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAKA;IAAK,SAAS,EAAC,kBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAO,GAAG,EAAC,aAAX;IAAyB,SAAS,EAAC,oBAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBADF,eAEE;IAAO,EAAE,EAAC,aAAV;IAAyB,QAAQ,EAAEH,aAAnC;IAAkD,IAAI,EAAC,MAAvD;IAA8D,SAAS,EAAC,cAAxE;IAAuF,QAAQ,MAA/F;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CALA,eAgBA;IAAQ,SAAS,EAAC,eAAlB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAhBA,CADJ;AAoBH,CA7DM;AAgEP,eAAeL,YAAf"},"metadata":{},"sourceType":"module"}